{% extends "base.html" %}

{% block content %}
<section class="task-form">
    <h2>Добавить новую задачу</h2>
    <form action="/add" method="post">
        <input type="text" name="title" placeholder="Введите название задачи" required>
        <button type="submit">Добавить задачу</button>
    </form>
</section>

<section class="task-list">
    <h2>Список задач</h2>
    {% if not tasks %}
    <p>Пока нет задач. Добавьте первую задачу!</p>
    {% else %}
    <ul>
        {% for task in tasks %}
        <li class="task {{ 'completed' if task.status == 'completed' else 'active' }}">
            <span class="task-title">{{ task.title }}</span>
            <span class="task-status">{{ task.status }}</span>
            <div class="task-actions">
                {% if task.status == 'active' %}
                <form action="/done/{{ task.id }}" method="post" style="display: inline;">
                    <button type="submit" class="btn-done">Выполнено</button>
                </form>
                {% endif %}
                <form action="/delete/{{ task.id }}" method="post" style="display: inline;">
                    <button type="submit" class="btn-delete">Удалить</button>
                </form>
            </div>
        </li>
        {% endfor %}
    </ul>
    {% endif %}
</section>
{% endblock %}